# ðŸ”§ CONNEXIONS ET MÃ‰MOIRE
listen_addresses = '*'              # Ã‰couter sur toutes les interfaces
port = 5432                        # Port standard
max_connections = 100              # 100 connexions max (suffisant pour trading)
shared_buffers = 128MB             # Cache partagÃ© (importante pour performance)
effective_cache_size = 512MB       # Estimation du cache OS
work_mem = 4MB                     # MÃ©moire par opÃ©ration de tri/hash

# ðŸš€ PERFORMANCE OPTIMIZATIONS
maintenance_work_mem = 64MB        # MÃ©moire pour maintenance (VACUUM, CREATE INDEX)
checkpoint_completion_target = 0.7  # Ã‰taler les checkpoints sur 70% de l'intervalle
wal_buffers = 16MB                 # Buffers Write-Ahead Log
random_page_cost = 1.1             # CoÃ»t relatif lecture alÃ©atoire (SSD = 1.1)
effective_io_concurrency = 200     # OpÃ©rations I/O concurrentes (SSD)

# ðŸ“Š STATISTIQUES ET PLANIFICATEUR
default_statistics_target = 100    # Ã‰chantillons pour statistiques (plus = meilleur)

# ðŸ’¾ WAL (Write-Ahead Logging) - IMPORTANT POUR TRADING
min_wal_size = 1GB                 # Taille minimum WAL
max_wal_size = 4GB                 # Taille maximum WAL

# ðŸ“‹ LOGGING (pour debugging trading)
log_destination = 'stderr'         # OÃ¹ envoyer les logs
logging_collector = on             # Activer collecteur de logs
log_directory = '/var/log/postgresql'  # RÃ©pertoire des logs
log_filename = 'postgresql-%Y-%m-%d.log'  # Nom des fichiers logs
log_statement = 'all'              # Logger toutes les requÃªtes SQL
log_min_duration_statement = 1000  # Logger requÃªtes > 1 seconde
